<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<h:head>
    <title>Registro de Usuario</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" 
          rel="stylesheet" type="text/css"/>
</h:head>

<h:body style="background-color:#f8f9fa;">
    <div class="container mt-5">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h3>Registrar nuevo usuario</h3>
            </div>
            <div class="card-body">
                <h:form id="registerForm">

                    <!-- Nombre completo -->
                    <div class="mb-3">
                        <h:outputLabel for="nombre" value="Nombre completo:" styleClass="form-label"/>
                        <h:inputText id="nombre" value="#{usuarioBean.usuario.nombreCompleto}"
                                     styleClass="form-control" required="true"
                                     requiredMessage="El nombre es obligatorio."/>
                        <h:message for="nombre" styleClass="text-danger"/>
                    </div>

                    <!-- Username -->
                    <div class="mb-3">
                        <h:outputLabel for="username" value="Nombre de usuario:" styleClass="form-label"/>
                        <h:inputText id="username" value="#{usuarioBean.usuario.username}"
                                     styleClass="form-control" required="true"
                                     requiredMessage="El nombre de usuario es obligatorio."
                                     maxlength="20"/>
                        <h:message for="username" styleClass="text-danger"/>
                    </div>

                    <!-- Correo -->
                    <div class="mb-3">
                        <h:outputLabel for="correo" value="Correo electrónico:" styleClass="form-label"/>
                        <h:inputText id="correo" value="#{usuarioBean.usuario.correoElectronico}"
                                     styleClass="form-control" required="true"
                                     requiredMessage="El correo es obligatorio."
                                     validatorMessage="Ingrese un correo válido.">
                            <f:validateRegex pattern="^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$" />
                        </h:inputText>
                        <h:message for="correo" styleClass="text-danger"/>
                    </div>

                    <!-- Contraseña -->
                    <div class="mb-3">
                        <h:outputLabel for="password" value="Contraseña:" styleClass="form-label"/>
                        <h:inputSecret id="password" value="#{usuarioBean.usuario.contrasena}"
                                       styleClass="form-control" required="true"
                                       requiredMessage="La contraseña es obligatoria."/>
                        <h:message for="password" styleClass="text-danger"/>
                    </div>

                    <!-- Teléfono -->
                    <div class="mb-3">
                        <h:outputLabel for="telefono" value="Teléfono:" styleClass="form-label"/>
                        <h:inputText id="telefono" value="#{usuarioBean.usuario.telefono}"
                                     styleClass="form-control" maxlength="15"/>
                        <h:message for="telefono" styleClass="text-danger"/>
                    </div>

                    <!-- Botones -->
                   <h:commandButton value="Registrar"
                 action="#{usuarioBean.createUsuario}"
                 styleClass="btn btn-success">
    <f:ajax execute="@form" render="@form"/>
</h:commandButton>

                    </div>

                    <h:messages globalOnly="true" styleClass="alert alert-info mt-3"/>
                </h:form>
            </div>
        </div>
    </div>
</h:body>
</html>
